@{
    ViewData["Title"] = "Course Edit";
}

<h3>New Course</h3>
<form method="post" asp-controller="Course" asp-action="EditCourseBody">
    <input type="hidden" value="@ViewBag.CourseId" name="Id" />
    <div class="form-group">
        <label for="Title">Course Name</label>
        <input type="text" class="form-control" id="Title" name="Title" value="@Model.Title">
    </div>
    <div class="form-group">
        <label for="Category">Сategory</label>
        <input type="text" class="form-control" id="Category" name="Category" value="@Model.Сategory">
    </div>
    <div class="form-group">
        <label for="Price">Price</label>
        <input type="text" class="form-control" id="Price" name="Price" value="@Model.Price">
    </div>
    <div class="form-group">
        <label for="Description">Description</label>
        <textarea class="form-control" id="Description" name="Description" rows="3" >@Model.Description</textarea>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" value="Edit" />
        </div>
    </div>
</form>

<h3>Lessons</h3>
<form method="post" asp-controller="Course" asp-action="EditCourseLessons", asp-route-id="@Model.Id">
    <div class="btn-group" role="group" aria-label="Admin buttons">
        <a type="button" onclick="location.href='@Url.Action("Create", "Lesson", new { Id = Model.Id })'" value="Create" class="btn btn-secondary">Create</a>
        <button type="submit" name="submitbutton" value="Edit" class="btn btn-secondary">Edit</button>
        <button type="submit" name="submitbutton" value="Delete" class="btn btn-secondary">Delete</button>
    </div>

    <table class="table-condensed">
        @if (Model.Lesson != null)
        {
            foreach (var Lesson in Model.Lesson)
            {
            <tr>
                <td>
                    <input name="AreChecked" type="checkbox" value="@Lesson.Id" />
                </td>
                <td>@Lesson.Title</td>
                <td>@Lesson.User</td>
                <td>@Lesson.LastUpdated</td>
            </tr>
            }
        }
    </table>
</form>